@model IEnumerable<HomeHelpCallsWebSite.Models.CallsViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@*<p class="lead">Login from "@User.Identity.Name" Account.</p>*@

<h2>קריאות פתוחות</h2>

@*<p>
            @Html.ActionLink("Create New", "Create")
    </p>*@


<div class="table-responsive">
    <table class="table" id="OpenCallsTable">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.doc_nbr)
            </th>

            @*<th>
                @Html.DisplayNameFor(model => model.STRM_NAME)
            </th>*@
            <th>
                @Html.DisplayNameFor(model => model.RQSTD_SHIP_DATE)
            </th>
            
            <th>
                @Html.DisplayNameFor(model => model.APT_NAME)
            </th>
            <th>
                @Html.DisplayNameFor(Model => Model.CALL_STAT_FULL)
            </th>

            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    <a class="btn btn-outline-light" title="פרטים נוספים" href="@Url.Action("Details", "OpenCalls",  new { id = item.doc_nbr })"><span class="glyphicon glyphicon-info-sign"></span></a>
                    @Html.DisplayFor(modelItem => item.doc_nbr)
                    @Html.DisplayFor(modelItem => item.CALL_DSCR)
                </td>
                @*<td>
                    @Html.DisplayFor(modelItem => item.STRM_NAME)
                </td>*@
                <td>
                    @Html.DisplayFor(modelItem => item.RQSTD_SHIP_DATE)
                    @*@if (!item.RQSTD_SHIP_TIME.Equals("00:00"))
                        {*@
                    @Html.DisplayFor(modelItem => item.RQSTD_SHIP_TIME)
                    @*}*@

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.APT_NAME)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CALL_STAT_FULL)
                </td>
                <td>
                    @*@Html.ActionLink("Edit", "Edit", new { /* id=item.PrimaryKey */ }) |*@
                    <div class="btn-group" role="group">
                        @*@Html.ActionLink("פרטים", "Details", new { id = item.doc_nbr }, new { @class = "btn btn-default" })*@
                        @*@Html.ActionLink("טיפול", "Index", "LineParts", new { id = item.doc_nbr }, new { @class = "btn btn-" })*@
                        <a class="btn btn-success" href="@Url.Action("Index", "LineParts",  new { id = item.doc_nbr })" title="הוספת פריטים"><span class=" glyphicon glyphicon-wrench"></span> טיפול </a>

                        @*@Html.ActionLink("העברה", "Edit", "OpenCalls", new { id = item.doc_nbr }, new { @class = "btn btn-default" })*@
                        <a class="btn btn-primary" href="@Url.Action("Edit", "OpenCalls",  new { id = item.doc_nbr })" title="העברה למחסן אחר"><span class=" glyphicon glyphicon-share"></span> העברה </a>

                    </div>
                </td>
            </tr>
        }

    </table>
</div>

