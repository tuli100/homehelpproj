@model IEnumerable<HomeHelpCallsWebSite.Models.CallsViewModel>

<div class=" table">
    <table class="table" id="CallsTable">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.doc_nbr)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.RQSTD_SHIP_DATE)
            </th>

            <th>
                @Html.DisplayNameFor(model => model.APT_NAME)
            </th>
            <th>
                @Html.DisplayNameFor(Model => Model.CALL_STAT_FULL)
            </th>

            <th></th>
        </tr>

        @foreach (var item in Model)
        {

            <tr>
                <td>
                    @if (item.isOpen)
                    {
                        <a class="btn btn-lg btn-outline-light align-self-end" style="color:cornflowerblue" title="פרטים נוספים" href="@Url.Action("Details", "OpenCalls", new { id = item.doc_nbr })"><span class="glyphicon glyphicon-info-sign"></span></a>
                    }
                    else
                    {
                        <a class="btn btn-lg btn-outline-light" title="פרטים נוספים" href="@Url.Action("Details", "HandelCalls",  new { id = item.doc_nbr })"><span class="glyphicon glyphicon-info-sign"></span></a>
                    }
                    @Html.DisplayFor(modelItem => item.doc_nbr)
                    @Html.DisplayFor(modelItem => item.CALL_DSCR)
                    @if (item.HAS_IMAGES.HasValue && item.HAS_IMAGES.Value)
                    {
                        //if (item.isOpen)
                        //{
                            <a class="btn btn-lg btn-outline-light" style="color:dimgray" title="תמונות" href="@Url.Action("Images", "OpenCalls", new { id = item.doc_nbr })"><span class="glyphicon glyphicon-camera"></span></a>
                        @*}
                        else
                        {
                            <a class="btn btn-outline-light" style="color:dimgray" title="תמונות" href="@Url.Action("Images", "OpenCalls", new { id = item.doc_nbr })"><span class="glyphicon glyphicon-camera"></span></a>

                        }*@
                    }
                </td>

                <td>
                    @Html.DisplayFor(modelItem => item.RQSTD_SHIP_DATE)
                    @if (!item.RQSTD_SHIP_TIME.Equals("00:00"))
                    {
                        @Html.DisplayFor(modelItem => item.RQSTD_SHIP_TIME)
                    }

                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.APT_NAME)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CALL_STAT_FULL)
                </td>

                <td class="group-buttons-tbl">
                    <div class="btn-group-lg" role="group">
                        <a class="btn btn-success" href="@Url.Action("Index", "LineParts",  new { id = item.doc_nbr })" title="הוספת פריטים"><span class=" glyphicon glyphicon-wrench"></span> טיפול </a>
                        @if (item.isOpen)
                        {
                            <a class="btn btn-primary" href="@Url.Action("Edit", "OpenCalls", new { id = item.doc_nbr })" title="העברה למחסן אחר"><span class=" glyphicon glyphicon-share"></span> העברה </a>
                        }
                        else
                        {
                            <a class="btn btn-primary" href="@Url.Action("Edit", "HandelCalls", new { id = item.doc_nbr })" title="העברה למחסן אחר"><span class=" glyphicon glyphicon-share"></span> העברה </a>
                        }
                    </div>

                </td>
                <td class="tr-for-media"></td>

            </tr>

        }

    </table>
</div>
